<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>AdminLTE 3 | Log in</title>

    <!-- Google Font: Source Sans Pro -->
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700&display=fallback"
    />
    <!-- Font Awesome -->
    <link
      rel="stylesheet"
      href="../../plugins/fontawesome-free/css/all.min.css"
    />
    <!-- icheck bootstrap -->
    <!-- <link rel="stylesheet" href="../../plugins/icheck-bootstrap/icheck-bootstrap.min.css"> -->
    <!-- Theme style -->
    <link rel="stylesheet" href="../../dist/css/adminlte.min.css" />
  </head>
  <body class="hold-transition login-page">
    <div class="login-box">
      <div class="login-logo">
        <a href="#"><b>Admin</b>Build Wizard</a>
      </div>
      <!-- /.login-logo -->
      <div class="card">
        <div class="card-body login-card-body">
          <p class="login-box-msg">Login</p>

          <form action="/login" method="post" id="loginForm">
            <label style="color: red;"><%= typeof error == 'string' && error ? error : '' %></label>
            <div class="input-group mb-3">
              <input
                type="email"
                name="email"
                id="email"
                class="form-control"
                placeholder="Email"
                value="<%= typeof user=='object' && user.email? user.email : '' %>"
                required
              />
              <div class="input-group-append">
                <div class="input-group-text">
                  <span class="fas fa-envelope"></span>
                </div>
              </div>
              <div class="invalid-feedback">
                Please enter a valid email address.
              </div>
            </div>
            <div class="input-group mb-3">
              <input
                type="password"
                name="password"
                id="password"
                class="form-control"
                placeholder="Password"
                value="<%= typeof user=='object' && user.email? user.email : '' %>"
                required
              />
              <div class="input-group-append">
                <div class="input-group-text">
                  <span class="fas fa-lock"></span>
                </div>
              </div>
              <div class="invalid-feedback">Please enter a password.</div>
            </div>
            <div class="row">
              <div class="col-12">
                <div class="icheck-primary">
                  <input type="checkbox" name="remember" id="remember" />
                  <label for="remember"> Remember Me </label>
                </div>
              </div>
            </div>
            <div class="social-auth-links text-center mb-3">
              <button class="btn btn-block btn-primary" type="submit">
                Login
              </button>
            </div>
          </form>

          <!-- /.social-auth-links -->
          <div class="row">
            <div class="col-8">
              <p class="mb-1">
                <a href="/auth/forgot-password">Forgot Password</a>
              </p>
            </div>
            <!-- <div class="col-4">
              <p class="mb-1">
                <a href="/auth/register">Registration</a>
              </p>
            </div> -->
          </div>
        </div>
        <!-- /.login-card-body -->
      </div>
    </div>
    <!-- /.login-box -->

    <!-- jQuery -->
    <!-- <script src="../../plugins/jquery/jquery.min.js"></script> -->
    <!-- Bootstrap 4 -->
    <!-- <script src="../../plugins/bootstrap/js/bootstrap.bundle.min.js"></script> -->
    <!-- AdminLTE App -->
    <!-- <script src="../../dist/js/adminlte.min.js"></script> -->
    <!-- <script src="https://ajax.aspnetcdn.com/ajax/jquery.validate/1.9/jquery.validate.js"></script> -->

    <!-- jQuery -->
    <script src="../../plugins/jquery/jquery.min.js"></script>
    <!-- Bootstrap 4 -->
    <script src="../../plugins/bootstrap/js/bootstrap.bundle.min.js"></script>
    <!-- jquery-validation -->
    <script src="../../plugins/jquery-validation/jquery.validate.min.js"></script>
    <script src="../../plugins/jquery-validation/additional-methods.min.js"></script>
    <!-- AdminLTE App -->
    <script src="../../dist/js/adminlte.min.js"></script>
    <!-- AdminLTE for demo purposes -->
    <!-- <script src="../../dist/js/demo.js"></script> -->
    <!-- Page specific script -->

    <script>
      $(function () {
        // $.validator.setDefaults({
        //   submitHandler: function () {
        //     alert( "Form successful submitted!" );
        //   }
        // });
        $(document).ready(function () {
          $("#loginForm").validate();
        });
        $("#loginForm").validate({
          rules: {
            email: {
              required: true,
              email: true,
            },
            password: {
              required: true,
              minlength: 5,
            },
            // remember: {
            //   required: true
            // },
          },
          messages: {
            email: {
              required: "Please enter a email address",
              email: "Please enter a valid email address",
            },
            password: {
              required: "Please provide a password",
              minlength: "Your password must be at least 5 characters long",
            },
            // remember: "Please accept our terms"
          },
          errorElement: "span",
          errorPlacement: function (error, element) {
            error.addClass("invalid-feedback");
            element.closest(".form-group").append(error);
          },
          highlight: function (element, errorClass, validClass) {
            $(element).addClass("is-invalid");
          },
          unhighlight: function (element, errorClass, validClass) {
            $(element).removeClass("is-invalid");
          },
        });
      });
    </script>
  </body>
</html>
